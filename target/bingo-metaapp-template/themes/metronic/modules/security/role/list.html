<div  th:id="${viewId}" >
	<div class="breadcrumbs" id="breadcrumbs">
		<ul class="breadcrumb">		
		</ul>
	</div>
	<div class="container-fluid m-top10">
		<meta:grid entityName="role" view="list" id="'grid_role_'+${viewId}"/>
	</div>
<script type="text/javascript" th:inline="javascript">
//<![CDATA[ 
	$(function() {
		var viewId=/*[[${viewId}]]*/;
		var context="#"+viewId;
		var $grid=$("#grid_role_"+viewId);
		var entity=/*[[${entity}]]*/;
		
		var imageRoot=Global.themePath+"/statics/images/icons/mini";
		$grid.jqGrid("setGridParam",
				{exContextMenu:	[{type: "splitLine" },
			    	{text: i18n.t("role.user.manage"),icon:imageRoot+"/icon_tool_043.gif",   action: function(){
			    		var id=$grid.jqGrid('getGridParam','selrow');
			    		var row=$grid.getRowData(id);
			    		var assignUsersUrl=Global.contextPath+"/entities/user/associate";
			    		$.openLink(Urls.urlParam(assignUsersUrl,[{key:"_ref_entity",value:"role"},{key:"_ref_val",value:id}]),{width:800,height:500},function(res){
			    			consolelog(res);
			    		});
			    	}}
			    	/*, {text: "授权",icon:imageRoot+"/Protection.gif",   action: function(){
			    		var id=$grid.jqGrid('getGridParam','selrow');
			    		var row=$grid.getRowData(id);
			    		var authorizeUrl=Global.contextPath+"/sec/entity_permission/role/authorize?role="+id+"&rolename="+encodeURIComponent(row.name);
						$.openLink(authorizeUrl,{},function(){
						});
			    	}} */
			    ]}
		);
		
		/* $(".authorize",context).click(function(){
			var id = $grid.jqGrid('getGridParam','selrow');
			if (!id){ 											
				$.messageBox.info({message:i18n.t("common.selectRow")});;
				return;
			}
			var row=$grid.getRowData(id);
			var authorizeUrl=Global.contextPath+"/sec/entity_permission/role/authorize?role="+id+"&rolename="+row.name;
			$.openLink(authorizeUrl,{},function(){
			});
		}); */
	}); 
	//]]>
	</script>
</div>